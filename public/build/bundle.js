var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function i(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e){return e&&i(e.destroy)?e.destroy:t}function u(t,e){t.appendChild(e)}function c(t){t.parentNode.removeChild(t)}function a(t){return document.createElement(t)}function s(){return t=" ",document.createTextNode(t);var t}function d(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function f(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t){return""===t?null:+t}function p(t,e){t.value=null==e?"":e}let g,m;function y(){if(void 0===g){g=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){g=!0}}return g}function w(t){m=t}function $(t){(function(){if(!m)throw new Error("Function called outside component initialization");return m})().$$.on_mount.push(t)}const b=[],v=[],x=[],_=[],k=Promise.resolve();let C=!1;function z(){C||(C=!0,k.then(j))}function E(t){x.push(t)}const I=new Set;let W=0;function j(){const t=m;do{for(;W<b.length;){const t=b[W];W++,w(t),A(t.$$)}for(w(null),b.length=0,W=0;v.length;)v.pop()();for(let t=0;t<x.length;t+=1){const e=x[t];I.has(e)||(I.add(e),e())}x.length=0}while(b.length);for(;_.length;)_.pop()();C=!1,I.clear(),w(t)}function A(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const P=new Set;function S(r,l,u,a,s,d,f,h=[-1]){const p=m;w(r);const g=r.$$={fragment:null,ctx:null,props:d,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(p?p.$$.context:[])),callbacks:n(),dirty:h,skip_bound:!1,root:l.target||p.$$.root};f&&f(g.root);let y=!1;if(g.ctx=u?u(r,l.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return g.ctx&&s(g.ctx[t],g.ctx[t]=o)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](o),y&&function(t,e){-1===t.$$.dirty[0]&&(b.push(t),z(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(r,t)),e})):[],g.update(),y=!0,o(g.before_update),g.fragment=!!a&&a(g.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);g.fragment&&g.fragment.l(t),t.forEach(c)}else g.fragment&&g.fragment.c();l.intro&&(($=r.$$.fragment)&&$.i&&(P.delete($),$.i(v))),function(t,n,r,l){const{fragment:u,on_mount:c,on_destroy:a,after_update:s}=t.$$;u&&u.m(n,r),l||E((()=>{const n=c.map(e).filter(i);a?a.push(...n):o(n),t.$$.on_mount=[]})),s.forEach(E)}(r,l.target,l.anchor,l.customElement),j()}var $,v;w(p)}function T(e){let n,r,g,m,w,$,b,v,x,_,k,C,z,I,W,j,A,P,S,T,L,O,H,M;return E(e[10]),{c(){var t,o,i,l;n=a("div"),r=a("h1"),r.textContent="Image Grid",g=s(),m=a("div"),m.textContent="Choose Image",w=s(),$=a("canvas"),b=s(),v=a("input"),x=s(),_=a("div"),k=a("div"),C=a("label"),C.textContent="Horizontal Cells",z=s(),I=a("input"),j=s(),A=a("div"),P=a("label"),P.textContent="Vertical Cells",S=s(),T=a("input"),f(m,"class","upload svelte-4y847h"),f($,"id","cv"),f($,"class","svelte-4y847h"),t=v,o="display",null===(i="none")?t.style.removeProperty(o):t.style.setProperty(o,i,l?"important":""),f(v,"type","file"),f(v,"accept",".jpg, .jpeg, .png"),f(C,"for","horizontal"),f(I,"name","horizontal"),f(I,"type","number"),f(I,"min","1"),f(P,"for","vertical"),f(T,"name","vertical"),f(T,"type","number"),f(T,"min","1"),f(_,"class","input-container svelte-4y847h"),f(n,"id","app"),f(n,"class","svelte-4y847h"),E((()=>e[17].call(n)))},m(t,o){!function(t,e,n){t.insertBefore(e,n||null)}(t,n,o),u(n,r),u(n,g),u(n,m),u(n,w),u(n,$),e[12]($),u(n,b),u(n,v),e[14](v),u(n,x),u(n,_),u(_,k),u(k,C),u(k,z),u(k,I),p(I,e[4]),u(_,j),u(_,A),u(A,P),u(A,S),u(A,T),p(T,e[5]),O=function(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=a("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const o=y();let i;return o?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=d(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{i=d(n.contentWindow,"resize",e)}),u(t,n),()=>{(o||i&&n.contentWindow)&&i(),c(n)}}(n,e[17].bind(n)),H||(M=[d(window,"resize",e[7]),d(window,"resize",e[10]),d(m,"click",e[11]),d(v,"change",e[13]),l(W=e[8].call(null,I,e[4])),d(I,"input",e[15]),l(L=e[9].call(null,T,e[5])),d(T,"input",e[16])],H=!0)},p(t,[e]){W&&i(W.update)&&16&e&&W.update.call(null,t[4]),16&e&&h(I.value)!==t[4]&&p(I,t[4]),L&&i(L.update)&&32&e&&L.update.call(null,t[5]),32&e&&h(T.value)!==t[5]&&p(T,t[5])},i:t,o:t,d(t){t&&c(n),e[12](null),e[14](null),O(),H=!1,o(M)}}}function L(t,e,n){let o,i,r=null,l=1007,u=100,c=5,a=5;$((async()=>{n(1,i.width=l,i),n(1,i.height=u,i),await(z(),k)}));const s=()=>{if(null===r)return;const t=i.getContext("2d");var e=i.width/r.width,n=i.height/r.height,o=Math.min(e,n),l=(i.width-r.width*o)/2,u=(i.height-r.height*o)/2;let s=r.width*o,d=r.height*o;t.clearRect(0,0,i.width,i.height),t.drawImage(r,0,0,r.width,r.height,l,u,s,d),((t,e,n,o)=>{const r=i.getContext("2d");if(c>1)for(let i=0;i<c+1;i++){let l=(n-3)/c*i;r.strokeStyle="red",r.lineWidth=3,r.beginPath(),r.moveTo(t+l+1.5,e),r.lineTo(t+l+1.5,o+e),r.stroke()}if(a>1)for(let i=0;i<a+1;i++){let l=(o-3)/a*i;r.strokeStyle="red",r.lineWidth=3,r.beginPath(),r.moveTo(t,e+l+1.5),r.lineTo(t+n,e+l+1.5),r.stroke()}})(l,u,s,d)},d=t=>{r=new Image,r.onload=s.bind(null),r.src=URL.createObjectURL(t.target.files[0])};let f=c,p=a;return[o,i,l,u,c,a,d,()=>{n(1,i.width=l,i),n(1,i.height=u,i),s()},function(t,e){return{update(e){n(4,c=null===e||c<t.min?f:parseInt(e)),f=c,s()}}},function(t,e){return{update(e){n(5,a=null===e||a<t.min?p:parseInt(e)),p=a,s()}}},function(){n(2,l=window.innerWidth),n(3,u=window.innerHeight)},()=>{o.click()},function(t){v[t?"unshift":"push"]((()=>{i=t,n(1,i)}))},t=>d(t),function(t){v[t?"unshift":"push"]((()=>{o=t,n(0,o)}))},function(){c=h(this.value),n(4,c)},function(){a=h(this.value),n(5,a)},function(){l=this.clientWidth,u=this.clientHeight,n(2,l),n(3,u)}]}return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),S(this,t,L,T,r,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
