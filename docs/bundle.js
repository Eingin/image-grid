var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function i(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e){return e&&i(e.destroy)?e.destroy:t}function c(t,e){t.appendChild(e)}function u(t){t.parentNode.removeChild(t)}function a(t){return document.createElement(t)}function s(){return t=" ",document.createTextNode(t);var t}function d(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function f(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t){return""===t?null:+t}function p(t,e){t.value=null==e?"":e}let g,m;function y(){if(void 0===g){g=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){g=!0}}return g}function $(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=a("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const o=y();let i;return o?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=d(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{i=d(n.contentWindow,"resize",e)}),c(t,n),()=>{(o||i&&n.contentWindow)&&i(),u(n)}}function b(t){m=t}function v(t){(function(){if(!m)throw new Error("Function called outside component initialization");return m})().$$.on_mount.push(t)}const w=[],x=[],_=[],k=[],C=Promise.resolve();let E=!1;function z(){E||(E=!0,C.then(A))}function I(t){_.push(t)}const W=new Set;let j=0;function A(){const t=m;do{for(;j<w.length;){const t=w[j];j++,b(t),P(t.$$)}for(b(null),w.length=0,j=0;x.length;)x.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];W.has(e)||(W.add(e),e())}_.length=0}while(w.length);for(;k.length;)k.pop()();E=!1,W.clear(),b(t)}function P(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(I)}}const S=new Set;function T(r,l,c,a,s,d,f,h=[-1]){const p=m;b(r);const g=r.$$={fragment:null,ctx:null,props:d,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(p?p.$$.context:[])),callbacks:n(),dirty:h,skip_bound:!1,root:l.target||p.$$.root};f&&f(g.root);let y=!1;if(g.ctx=c?c(r,l.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return g.ctx&&s(g.ctx[t],g.ctx[t]=o)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](o),y&&function(t,e){-1===t.$$.dirty[0]&&(w.push(t),z(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(r,t)),e})):[],g.update(),y=!0,o(g.before_update),g.fragment=!!a&&a(g.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);g.fragment&&g.fragment.l(t),t.forEach(u)}else g.fragment&&g.fragment.c();l.intro&&(($=r.$$.fragment)&&$.i&&(S.delete($),$.i(v))),function(t,n,r,l){const{fragment:c,on_mount:u,on_destroy:a,after_update:s}=t.$$;c&&c.m(n,r),l||I((()=>{const n=u.map(e).filter(i);a?a.push(...n):o(n),t.$$.on_mount=[]})),s.forEach(I)}(r,l.target,l.anchor,l.customElement),A()}var $,v;b(p)}function L(e){let n,r,g,m,y,b,v,w,x,_,k,C,E,z,W,j,A,P,S,T,L,O,H,M,N;return{c(){var t,o,i,l;n=a("div"),r=a("h1"),r.textContent="Image Grid",g=s(),m=a("div"),m.textContent="Choose Image",y=s(),b=a("canvas"),w=s(),x=a("input"),_=s(),k=a("div"),C=a("div"),E=a("label"),E.textContent="Horizontal Cells",z=s(),W=a("input"),A=s(),P=a("div"),S=a("label"),S.textContent="Vertical Cells",T=s(),L=a("input"),f(m,"class","upload svelte-4y847h"),f(b,"id","cv"),f(b,"class","svelte-4y847h"),I((()=>e[11].call(b))),t=x,o="display",null===(i="none")?t.style.removeProperty(o):t.style.setProperty(o,i,l?"important":""),f(x,"type","file"),f(x,"accept",".jpg, .jpeg, .png"),f(E,"for","horizontal"),f(W,"name","horizontal"),f(W,"type","number"),f(W,"min","1"),f(S,"for","vertical"),f(L,"name","vertical"),f(L,"type","number"),f(L,"min","1"),f(k,"class","input-container svelte-4y847h"),f(n,"id","app"),f(n,"class","svelte-4y847h"),I((()=>e[17].call(n)))},m(t,o){!function(t,e,n){t.insertBefore(e,n||null)}(t,n,o),c(n,r),c(n,g),c(n,m),c(n,y),c(n,b),v=$(b,e[11].bind(b)),e[12](b),c(n,w),c(n,x),e[14](x),c(n,_),c(n,k),c(k,C),c(C,E),c(C,z),c(C,W),p(W,e[4]),c(k,A),c(k,P),c(P,S),c(P,T),c(P,L),p(L,e[5]),H=$(n,e[17].bind(n)),M||(N=[d(window,"resize",e[7]),d(m,"click",e[10]),d(x,"change",e[13]),l(j=e[8].call(null,W,e[4])),d(W,"input",e[15]),l(O=e[9].call(null,L,e[5])),d(L,"input",e[16])],M=!0)},p(t,[e]){j&&i(j.update)&&16&e&&j.update.call(null,t[4]),16&e&&h(W.value)!==t[4]&&p(W,t[4]),O&&i(O.update)&&32&e&&O.update.call(null,t[5]),32&e&&h(L.value)!==t[5]&&p(L,t[5])},i:t,o:t,d(t){t&&u(n),v(),e[12](null),e[14](null),H(),M=!1,o(N)}}}function O(t,e,n){let o,i,r=null,l=500,c=500,u=5,a=5;v((async()=>{n(1,i.width=l,i),n(1,i.height=c,i),await(z(),C),s()}));const s=()=>{if(null===r)return;const t=i.getContext("2d");var e=i.width/r.width,n=i.height/r.height,o=Math.min(e,n),l=(i.width-r.width*o)/2,c=(i.height-r.height*o)/2;let s=r.width*o,d=r.height*o;t.clearRect(0,0,i.width,i.height),t.drawImage(r,0,0,r.width,r.height,l,c,s,d),((t,e,n,o)=>{const r=i.getContext("2d");if(u>1)for(let i=0;i<u+1;i++){let l=(n-3)/u*i;r.strokeStyle="red",r.lineWidth=3,r.beginPath(),r.moveTo(t+l+1.5,e),r.lineTo(t+l+1.5,o+e),r.stroke()}if(a>1)for(let i=0;i<a+1;i++){let l=(o-3)/a*i;r.strokeStyle="red",r.lineWidth=3,r.beginPath(),r.moveTo(t,e+l+1.5),r.lineTo(t+n,e+l+1.5),r.stroke()}})(l,c,s,d)},d=t=>{r=new Image,r.onload=s.bind(null),r.src=URL.createObjectURL(t.target.files[0])};let f=u,p=a;return[o,i,l,c,u,a,d,()=>{n(1,i.width=l,i),n(1,i.height=c,i),s()},function(t,e){return{update(e){n(4,u=null===e||u<t.min?f:parseInt(e)),f=u,s()}}},function(t,e){return{update(e){n(5,a=null===e||a<t.min?p:parseInt(e)),p=a,s()}}},()=>{o.click()},function(){l=this.clientWidth,c=this.clientHeight,n(2,l),n(3,c)},function(t){x[t?"unshift":"push"]((()=>{i=t,n(1,i)}))},t=>d(t),function(t){x[t?"unshift":"push"]((()=>{o=t,n(0,o)}))},function(){u=h(this.value),n(4,u)},function(){a=h(this.value),n(5,a)},function(){l=this.clientWidth,c=this.clientHeight,n(2,l),n(3,c)}]}return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),T(this,t,O,L,r,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
