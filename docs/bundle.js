var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function i(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(e){return e&&i(e.destroy)?e.destroy:t}function c(t,e){t.appendChild(e)}function a(t){t.parentNode.removeChild(t)}function u(t){return document.createElement(t)}function s(){return t=" ",document.createTextNode(t);var t}function d(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function f(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function h(t){return""===t?null:+t}function p(t,e){t.value=null==e?"":e}let g,m;function y(){if(void 0===g){g=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){g=!0}}return g}function v(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=u("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const o=y();let i;return o?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=d(window,"message",(t=>{t.source===n.contentWindow&&e()}))):(n.src="about:blank",n.onload=()=>{i=d(n.contentWindow,"resize",e)}),c(t,n),()=>{(o||i&&n.contentWindow)&&i(),a(n)}}function b(t){m=t}function $(t){(function(){if(!m)throw new Error("Function called outside component initialization");return m})().$$.on_mount.push(t)}const w=[],x=[],_=[],k=[],C=Promise.resolve();let E=!1;function z(){E||(E=!0,C.then(A))}function I(t){_.push(t)}const W=new Set;let j=0;function A(){const t=m;do{for(;j<w.length;){const t=w[j];j++,b(t),L(t.$$)}for(b(null),w.length=0,j=0;x.length;)x.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];W.has(e)||(W.add(e),e())}_.length=0}while(w.length);for(;k.length;)k.pop()();E=!1,W.clear(),b(t)}function L(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(I)}}const P=new Set;function S(r,l,c,u,s,d,f,h=[-1]){const p=m;b(r);const g=r.$$={fragment:null,ctx:null,props:d,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(p?p.$$.context:[])),callbacks:n(),dirty:h,skip_bound:!1,root:l.target||p.$$.root};f&&f(g.root);let y=!1;if(g.ctx=c?c(r,l.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return g.ctx&&s(g.ctx[t],g.ctx[t]=o)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](o),y&&function(t,e){-1===t.$$.dirty[0]&&(w.push(t),z(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(r,t)),e})):[],g.update(),y=!0,o(g.before_update),g.fragment=!!u&&u(g.ctx),l.target){if(l.hydrate){const t=function(t){return Array.from(t.childNodes)}(l.target);g.fragment&&g.fragment.l(t),t.forEach(a)}else g.fragment&&g.fragment.c();l.intro&&((v=r.$$.fragment)&&v.i&&(P.delete(v),v.i($))),function(t,n,r,l){const{fragment:c,on_mount:a,on_destroy:u,after_update:s}=t.$$;c&&c.m(n,r),l||I((()=>{const n=a.map(e).filter(i);u?u.push(...n):o(n),t.$$.on_mount=[]})),s.forEach(I)}(r,l.target,l.anchor,l.customElement),A()}var v,$;b(p)}function T(e){let n,r,g,m,y,b,$,w,x,_,k,C,E,z,W,j,A,L,P,S,T,O,R,H,M,N,U,D;return{c(){var t,o,i,l;n=u("div"),r=u("h1"),r.textContent="Image Grid",g=s(),m=u("div"),y=u("div"),y.textContent="Choose Image",b=s(),$=u("a"),$.textContent="Download Image",w=s(),x=u("canvas"),k=s(),C=u("input"),E=s(),z=u("div"),W=u("div"),j=u("label"),j.textContent="Horizontal Cells",A=s(),L=u("input"),S=s(),T=u("div"),O=u("label"),O.textContent="Vertical Cells",R=s(),H=u("input"),f(y,"class","button upload svelte-14yh2dx"),f($,"class","button download svelte-14yh2dx"),f($,"download","grid-image.png"),f($,"href","local"),f(m,"class","input-container svelte-14yh2dx"),f(x,"id","cv"),f(x,"class","svelte-14yh2dx"),I((()=>e[12].call(x))),t=C,o="display",null===(i="none")?t.style.removeProperty(o):t.style.setProperty(o,i,l?"important":""),f(C,"type","file"),f(C,"accept",".jpg, .jpeg, .png"),f(j,"for","horizontal"),f(L,"name","horizontal"),f(L,"type","number"),f(L,"min","1"),f(O,"for","vertical"),f(H,"name","vertical"),f(H,"type","number"),f(H,"min","1"),f(z,"class","input-container svelte-14yh2dx"),f(n,"id","app"),f(n,"class","svelte-14yh2dx"),I((()=>e[18].call(n)))},m(t,o){!function(t,e,n){t.insertBefore(e,n||null)}(t,n,o),c(n,r),c(n,g),c(n,m),c(m,y),c(m,b),c(m,$),c(n,w),c(n,x),_=v(x,e[12].bind(x)),e[13](x),c(n,k),c(n,C),e[15](C),c(n,E),c(n,z),c(z,W),c(W,j),c(W,A),c(W,L),p(L,e[4]),c(z,S),c(z,T),c(T,O),c(T,R),c(T,H),p(H,e[5]),N=v(n,e[18].bind(n)),U||(D=[d(window,"resize",e[7]),d(y,"click",e[11]),d($,"click",e[10]),d(C,"change",e[14]),l(P=e[8].call(null,L,e[4])),d(L,"input",e[16]),l(M=e[9].call(null,H,e[5])),d(H,"input",e[17])],U=!0)},p(t,[e]){P&&i(P.update)&&16&e&&P.update.call(null,t[4]),16&e&&h(L.value)!==t[4]&&p(L,t[4]),M&&i(M.update)&&32&e&&M.update.call(null,t[5]),32&e&&h(H.value)!==t[5]&&p(H,t[5])},i:t,o:t,d(t){t&&a(n),_(),e[13](null),e[15](null),N(),U=!1,o(D)}}}function O(t,e,n){let o,i,r=null,l=500,c=500,a=5,u=5;$((async()=>{n(1,i.width=l,i),n(1,i.height=c,i),await(z(),C),s()}));const s=()=>{if(null===r)return;const t=i.getContext("2d");var e=i.width/r.width,n=i.height/r.height,o=Math.min(e,n),l=(i.width-r.width*o)/2,c=(i.height-r.height*o)/2;let s=r.width*o,d=r.height*o;t.clearRect(0,0,i.width,i.height),t.drawImage(r,0,0,r.width,r.height,l,c,s,d),((t,e,n,o)=>{const r=i.getContext("2d");if(a>1)for(let i=0;i<a+1;i++){let l=(n-3)/a*i;r.strokeStyle="red",r.lineWidth=3,r.beginPath(),r.moveTo(t+l+1.5,e),r.lineTo(t+l+1.5,o+e),r.stroke()}if(u>1)for(let i=0;i<u+1;i++){let l=(o-3)/u*i;r.strokeStyle="red",r.lineWidth=3,r.beginPath(),r.moveTo(t,e+l+1.5),r.lineTo(t+n,e+l+1.5),r.stroke()}})(l,c,s,d)},d=t=>{r=new Image,r.onload=s.bind(null),r.src=URL.createObjectURL(t.target.files[0])};let f=a,p=u;return[o,i,l,c,a,u,d,()=>{n(1,i.width=l,i),n(1,i.height=c,i),s()},function(t,e){return{update(e){n(4,a=null===e||a<t.min?f:parseInt(e)),f=a,s()}}},function(t,e){return{update(e){n(5,u=null===e||u<t.min?p:parseInt(e)),p=u,s()}}},t=>{var e=i.toDataURL("image/png");t.target.href=e},()=>{o.click()},function(){l=this.clientWidth,c=this.clientHeight,n(2,l),n(3,c)},function(t){x[t?"unshift":"push"]((()=>{i=t,n(1,i)}))},t=>d(t),function(t){x[t?"unshift":"push"]((()=>{o=t,n(0,o)}))},function(){a=h(this.value),n(4,a)},function(){u=h(this.value),n(5,u)},function(){l=this.clientWidth,c=this.clientHeight,n(2,l),n(3,c)}]}return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),S(this,t,O,T,r,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
